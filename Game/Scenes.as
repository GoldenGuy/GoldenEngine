
void CreateTestLevel(Scene@ scene)
{
    //                             (float roll, float pitch, float yaw)
    //scene.camera.angle = Quaternion(dtr(10), 0, 0);
    scene.camera.angle = Quaternion(dtr(45), 0, 0);

    {
        Entity@ ent = scene.CreateEntity("world");
        ent.AddComponent(MeshRendererComponent(leveltest));
        ent.AddComponent(PhysicsComponent(PhysicsComponentType::STATIC, MeshBody(leveltest)));
    }

    /*for(int i = 0; i < 25; i++)
    {
        Entity@ ent = scene.CreateEntity("ball");
        //ent.AddComponent(ObjRendererComponent("improved_fumo.obj"));
        ent.AddComponent(MeshRendererComponent(RenderPrimitives::sphere));
        ent.AddComponent(DynamicBodyComponent(SphereBody(1)));
        float x = (float(i % 5) - 2.5f) * 2.5f;
        float z = (float(int(i / 5)) - 2.5f) * 2.5f;
        ent.SetPositionImmediate(Vec3f(x, 10, z));
    }*/

    {
        Entity@ ent = scene.CreateEntity("player camera");
        ent.AddComponent(FPSCameraController());
        //ent.AddComponent(FreeFlyMovement());
        ent.AddComponent(PlayerPhysicsComponent(SphereBody(1)));
        ent.SetPositionImmediate(Vec3f(0, 10, 0));
    }
}

Vertex[] leveltest = {
    Vertex(-6.462288,4.00488,-10.635016,0,0),
    Vertex(-10.635016,4.00488,-10.635016,0,1),
    Vertex(-10.635016,4.00488,-5.824694,1,1),
    Vertex(-10.635016,4.00488,-5.824694,0,0),
    Vertex(-10.635016,4.00488,-2.98361,0,1),
    Vertex(-6.506414,0,-3.123269,1,1),
    Vertex(3.634684,3.092984,10.635016,0,0),
    Vertex(6.286132,3.561512,10.635016,0,1),
    Vertex(5.977648,0,6.217232,1,1),
    Vertex(6.286132,3.561512,10.635016,0,0),
    Vertex(10.635016,3.690558,10.635016,0,1),
    Vertex(10.635016,4.00488,6.437489,1,1),
    Vertex(5.175499,0,-2.991646,0,0),
    Vertex(10.635016,4.00488,-2.944536,0,1),
    Vertex(10.635016,4.00488,-5.993756,1,1),
    Vertex(10.635016,4.00488,-5.993756,0,0),
    Vertex(10.635016,4.00488,-10.635016,0,1),
    Vertex(4.142966,4.00488,-10.635016,1,1),
    Vertex(-4.583202,4.00488,-10.635016,0,0),
    Vertex(-6.462288,4.00488,-10.635016,0,1),
    Vertex(-6.489713,0,-5.96632,1,1),
    Vertex(5.813202,0,4.32935,0,0),
    Vertex(3.267393,0,4.226723,0,1),
    Vertex(3.395799,0,6.09513,1,1),
    Vertex(-10.635016,4.00488,3.965917,0,0),
    Vertex(-10.635016,4.00488,5.758007,0,1),
    Vertex(-6.557799,0,5.624403,1,1),
    Vertex(-10.635016,4.00488,5.758007,0,0),
    Vertex(-10.635016,4.201222,10.635016,0,1),
    Vertex(-6.587233,4.000401,10.635016,1,1),
    Vertex(2.565879,0,-5.980828,0,0),
    Vertex(2.769447,2.712023,-3.018755,0,1),
    Vertex(5.175499,0,-2.991646,1,1),
    Vertex(5.334925,0,-1.161397,0,0),
    Vertex(10.635016,4.00488,-1.079874,0,1),
    Vertex(10.635016,4.00488,-2.944536,1,1),
    Vertex(2.565879,0,-5.980828,0,0),
    Vertex(0.807156,0,-5.978011,0,1),
    Vertex(0.967945,0,-3.039053,1,1),
    Vertex(3.267393,0,4.226723,0,0),
    Vertex(1.361249,0,4.149882,0,1),
    Vertex(1.462671,0,6.003709,1,1),
    Vertex(4.142966,4.00488,-10.635016,0,0),
    Vertex(1.958667,4.00488,-10.635016,0,1),
    Vertex(2.565879,0,-5.980828,1,1),
    Vertex(1.462671,0,6.003709,0,0),
    Vertex(1.649445,3.269217,10.635016,0,1),
    Vertex(3.634684,3.092984,10.635016,1,1),
    Vertex(3.142906,0,2.415354,0,0),
    Vertex(1.262923,2.306973,2.352648,0,1),
    Vertex(1.361249,0,4.149882,1,1),
    Vertex(5.977648,0,6.217232,0,0),
    Vertex(10.635016,4.00488,6.437489,0,1),
    Vertex(10.635016,4.00488,4.514112,1,1),
    Vertex(-10.635016,4.00488,2.228535,0,0),
    Vertex(-10.635016,4.00488,3.965917,0,1),
    Vertex(-6.547265,0,3.831072,1,1),
    Vertex(5.653776,0,2.499101,0,0),
    Vertex(3.142906,0,2.415354,0,1),
    Vertex(3.267393,0,4.226723,1,1),
    Vertex(-4.377027,0,2.164532,0,0),
    Vertex(-6.537053,0,2.092487,0,1),
    Vertex(-6.547265,0,3.831072,1,1),
    Vertex(-6.587233,4.000401,10.635016,0,0),
    Vertex(-4.306273,3.797917,10.635016,0,1),
    Vertex(-4.336713,2.657385,5.729443,1,1),
    Vertex(-4.357182,0,3.919359,0,0),
    Vertex(-6.547265,0,3.831072,0,1),
    Vertex(-6.557799,0,5.624403,1,1),
    Vertex(-4.469011,0,-5.969557,0,0),
    Vertex(-6.489713,0,-5.96632,0,1),
    Vertex(-6.506414,0,-3.123269,1,1),
    Vertex(-2.947735,4.00488,-10.635016,0,0),
    Vertex(-4.583202,4.00488,-10.635016,0,1),
    Vertex(-4.469011,0,-5.969557,1,1),
    Vertex(-6.516626,0,-1.384684,0,0),
    Vertex(-6.526839,0,0.353901,0,1),
    Vertex(-4.396872,0,0.409706,1,1),
    Vertex(5.334925,0,-1.161397,0,0),
    Vertex(2.893934,0,-1.207386,0,1),
    Vertex(3.01842,0,0.603984,1,1),
    Vertex(-10.635016,4.00488,-1.246229,0,0),
    Vertex(-10.635016,4.00488,0.491153,0,1),
    Vertex(-6.526839,0,0.353901,1,1),
    Vertex(2.893934,0,-1.207386,0,0),
    Vertex(1.066271,0,-1.241819,0,1),
    Vertex(1.164597,0,0.555415,1,1),
    Vertex(5.653776,0,2.499101,0,0),
    Vertex(10.635016,4.00488,2.64945,0,1),
    Vertex(10.635016,4.00488,0.784788,1,1),
    Vertex(-0.761391,0,-1.276253,0,0),
    Vertex(-2.589053,0,-1.310687,0,1),
    Vertex(-2.543049,0,0.458275,1,1),
    Vertex(0.3232,4.00488,-10.635016,0,0),
    Vertex(-1.312268,4.00488,-10.635016,0,1),
    Vertex(-0.951566,0,-5.975193,1,1),
    Vertex(-0.61706,0,2.289943,0,0),
    Vertex(-2.497044,0,2.227238,0,1),
    Vertex(-2.451038,0,3.9962,1,1),
    Vertex(-2.403585,0,5.820865,0,0),
    Vertex(-2.321033,3.621684,10.635016,0,1),
    Vertex(-0.335794,3.44545,10.635016,1,1),
    Vertex(-0.544895,0,4.073041,0,0),
    Vertex(-2.451038,0,3.9962,0,1),
    Vertex(-2.403585,0,5.820865,1,1),
    Vertex(-2.710289,0,-5.972375,0,0),
    Vertex(-2.635058,2.062928,-3.079649,0,1),
    Vertex(-0.833557,0,-3.059351,1,1),
    Vertex(-4.469011,0,-5.969557,0,0),
    Vertex(-4.43656,3.046722,-3.099948,0,1),
    Vertex(-2.635058,2.062928,-3.079649,1,1),
    Vertex(-4.357182,0,3.919359,0,0),
    Vertex(-4.336713,2.657385,5.729443,0,1),
    Vertex(-2.403585,0,5.820865,1,1),
    Vertex(-4.336713,2.657385,5.729443,0,0),
    Vertex(-4.306273,3.797917,10.635016,0,1),
    Vertex(-2.321033,3.621684,10.635016,1,1),
    Vertex(-2.497044,0,2.227238,0,0),
    Vertex(-4.377027,0,2.164532,0,1),
    Vertex(-4.357182,0,3.919359,1,1),
    Vertex(-2.589053,0,-1.310687,0,0),
    Vertex(-4.416716,3.025761,-1.345121,0,1),
    Vertex(-4.396872,0,0.409706,1,1),
    Vertex(-1.312268,4.00488,-10.635016,0,0),
    Vertex(-2.947735,4.00488,-10.635016,0,1),
    Vertex(-2.710289,0,-5.972375,1,1),
    Vertex(1.958667,4.00488,-10.635016,0,0),
    Vertex(0.3232,4.00488,-10.635016,0,1),
    Vertex(0.807156,0,-5.978011,1,1),
    Vertex(1.066271,0,-1.241819,0,0),
    Vertex(-0.761391,0,-1.276253,0,1),
    Vertex(-0.689226,0,0.506845,1,1),
    Vertex(-0.61706,0,2.289943,0,0),
    Vertex(-0.544895,0,4.073041,0,1),
    Vertex(1.361249,0,4.149882,1,1),
    Vertex(-0.470457,0,5.912287,0,0),
    Vertex(-0.335794,3.44545,10.635016,0,1),
    Vertex(1.649445,3.269217,10.635016,1,1),
    Vertex(1.361249,0,4.149882,0,0),
    Vertex(-0.544895,0,4.073041,0,1),
    Vertex(-0.470457,0,5.912287,1,1),
    Vertex(0.807156,0,-5.978011,0,0),
    Vertex(-0.951566,0,-5.975193,0,1),
    Vertex(-0.833557,0,-3.059351,1,1),
    Vertex(1.164597,0,0.555415,0,0),
    Vertex(-0.689226,0,0.506845,0,1),
    Vertex(-0.61706,0,2.289943,1,1),
    Vertex(-2.543049,0,0.458275,0,0),
    Vertex(-4.396872,0,0.409706,0,1),
    Vertex(-4.377027,0,2.164532,1,1),
    Vertex(-0.689226,0,0.506845,0,0),
    Vertex(-2.543049,0,0.458275,0,1),
    Vertex(-2.497044,0,2.227238,1,1),
    Vertex(5.813202,0,4.32935,0,0),
    Vertex(10.635016,4.00488,4.514112,0,1),
    Vertex(10.635016,4.00488,2.64945,1,1),
    Vertex(-4.396872,0,0.409706,0,0),
    Vertex(-6.526839,0,0.353901,0,1),
    Vertex(-6.537053,0,2.092487,1,1),
    Vertex(5.49435,0,0.668852,0,0),
    Vertex(3.01842,0,0.603984,0,1),
    Vertex(3.142906,0,2.415354,1,1),
    Vertex(-10.635016,4.00488,0.491153,0,0),
    Vertex(-10.635016,4.00488,2.228535,0,1),
    Vertex(-6.537053,0,2.092487,1,1),
    Vertex(1.164597,0,0.555415,0,0),
    Vertex(1.262923,2.306973,2.352648,0,1),
    Vertex(3.142906,0,2.415354,1,1),
    Vertex(0.967945,0,-3.039053,0,0),
    Vertex(-0.833557,0,-3.059351,0,1),
    Vertex(-0.761391,0,-1.276253,1,1),
    Vertex(-2.635058,2.062928,-3.079649,0,0),
    Vertex(-4.43656,3.046722,-3.099948,0,1),
    Vertex(-4.416716,3.025761,-1.345121,1,1),
    Vertex(-0.833557,0,-3.059351,0,0),
    Vertex(-2.635058,2.062928,-3.079649,0,1),
    Vertex(-2.589053,0,-1.310687,1,1),
    Vertex(0.967945,0,-3.039053,0,0),
    Vertex(1.066271,0,-1.241819,0,1),
    Vertex(2.893934,0,-1.207386,1,1),
    Vertex(-10.635016,4.00488,-2.98361,0,0),
    Vertex(-10.635016,4.00488,-1.246229,0,1),
    Vertex(-6.516626,0,-1.384684,1,1),
    Vertex(5.175499,0,-2.991646,0,0),
    Vertex(2.769447,2.712023,-3.018755,0,1),
    Vertex(2.893934,0,-1.207386,1,1),
    Vertex(-6.506414,0,-3.123269,0,0),
    Vertex(-6.516626,0,-1.384684,0,1),
    Vertex(-4.416716,3.025761,-1.345121,1,1),
    Vertex(5.49435,0,0.668852,0,0),
    Vertex(10.635016,4.00488,0.784788,0,1),
    Vertex(10.635016,4.00488,-1.079874,1,1),
    Vertex(-6.462288,4.00488,-10.635016,0,0),
    Vertex(-10.635016,4.00488,-5.824694,0,1),
    Vertex(-6.489713,0,-5.96632,1,1),
    Vertex(-10.635016,4.00488,-5.824694,0,0),
    Vertex(-6.506414,0,-3.123269,0,1),
    Vertex(-6.489713,0,-5.96632,1,1),
    Vertex(3.634684,3.092984,10.635016,0,0),
    Vertex(5.977648,0,6.217232,0,1),
    Vertex(3.395799,0,6.09513,1,1),
    Vertex(6.286132,3.561512,10.635016,0,0),
    Vertex(10.635016,4.00488,6.437489,0,1),
    Vertex(5.977648,0,6.217232,1,1),
    Vertex(5.175499,0,-2.991646,0,0),
    Vertex(10.635016,4.00488,-5.993756,0,1),
    Vertex(4.914795,0,-5.984591,1,1),
    Vertex(10.635016,4.00488,-5.993756,0,0),
    Vertex(4.142966,4.00488,-10.635016,0,1),
    Vertex(4.914795,0,-5.984591,1,1),
    Vertex(-4.583202,4.00488,-10.635016,0,0),
    Vertex(-6.489713,0,-5.96632,0,1),
    Vertex(-4.469011,0,-5.969557,1,1),
    Vertex(5.813202,0,4.32935,0,0),
    Vertex(3.395799,0,6.09513,0,1),
    Vertex(5.977648,0,6.217232,1,1),
    Vertex(-10.635016,4.00488,3.965917,0,0),
    Vertex(-6.557799,0,5.624403,0,1),
    Vertex(-6.547265,0,3.831072,1,1),
    Vertex(-10.635016,4.00488,5.758007,0,0),
    Vertex(-6.587233,4.000401,10.635016,0,1),
    Vertex(-6.557799,0,5.624403,1,1),
    Vertex(2.565879,0,-5.980828,0,0),
    Vertex(5.175499,0,-2.991646,0,1),
    Vertex(4.914795,0,-5.984591,1,1),
    Vertex(5.334925,0,-1.161397,0,0),
    Vertex(10.635016,4.00488,-2.944536,0,1),
    Vertex(5.175499,0,-2.991646,1,1),
    Vertex(2.565879,0,-5.980828,0,0),
    Vertex(0.967945,0,-3.039053,0,1),
    Vertex(2.769447,2.712023,-3.018755,1,1),
    Vertex(3.267393,0,4.226723,0,0),
    Vertex(1.462671,0,6.003709,0,1),
    Vertex(3.395799,0,6.09513,1,1),
    Vertex(4.142966,4.00488,-10.635016,0,0),
    Vertex(2.565879,0,-5.980828,0,1),
    Vertex(4.914795,0,-5.984591,1,1),
    Vertex(1.462671,0,6.003709,0,0),
    Vertex(3.634684,3.092984,10.635016,0,1),
    Vertex(3.395799,0,6.09513,1,1),
    Vertex(3.142906,0,2.415354,0,0),
    Vertex(1.361249,0,4.149882,0,1),
    Vertex(3.267393,0,4.226723,1,1),
    Vertex(5.977648,0,6.217232,0,0),
    Vertex(10.635016,4.00488,4.514112,0,1),
    Vertex(5.813202,0,4.32935,1,1),
    Vertex(-10.635016,4.00488,2.228535,0,0),
    Vertex(-6.547265,0,3.831072,0,1),
    Vertex(-6.537053,0,2.092487,1,1),
    Vertex(5.653776,0,2.499101,0,0),
    Vertex(3.267393,0,4.226723,0,1),
    Vertex(5.813202,0,4.32935,1,1),
    Vertex(-4.377027,0,2.164532,0,0),
    Vertex(-6.547265,0,3.831072,0,1),
    Vertex(-4.357182,0,3.919359,1,1),
    Vertex(-6.587233,4.000401,10.635016,0,0),
    Vertex(-4.336713,2.657385,5.729443,0,1),
    Vertex(-6.557799,0,5.624403,1,1),
    Vertex(-4.357182,0,3.919359,0,0),
    Vertex(-6.557799,0,5.624403,0,1),
    Vertex(-4.336713,2.657385,5.729443,1,1),
    Vertex(-4.469011,0,-5.969557,0,0),
    Vertex(-6.506414,0,-3.123269,0,1),
    Vertex(-4.43656,3.046722,-3.099948,1,1),
    Vertex(-2.947735,4.00488,-10.635016,0,0),
    Vertex(-4.469011,0,-5.969557,0,1),
    Vertex(-2.710289,0,-5.972375,1,1),
    Vertex(-6.516626,0,-1.384684,0,0),
    Vertex(-4.396872,0,0.409706,0,1),
    Vertex(-4.416716,3.025761,-1.345121,1,1),
    Vertex(5.334925,0,-1.161397,0,0),
    Vertex(3.01842,0,0.603984,0,1),
    Vertex(5.49435,0,0.668852,1,1),
    Vertex(-10.635016,4.00488,-1.246229,0,0),
    Vertex(-6.526839,0,0.353901,0,1),
    Vertex(-6.516626,0,-1.384684,1,1),
    Vertex(2.893934,0,-1.207386,0,0),
    Vertex(1.164597,0,0.555415,0,1),
    Vertex(3.01842,0,0.603984,1,1),
    Vertex(5.653776,0,2.499101,0,0),
    Vertex(10.635016,4.00488,0.784788,0,1),
    Vertex(5.49435,0,0.668852,1,1),
    Vertex(-0.761391,0,-1.276253,0,0),
    Vertex(-2.543049,0,0.458275,0,1),
    Vertex(-0.689226,0,0.506845,1,1),
    Vertex(0.3232,4.00488,-10.635016,0,0),
    Vertex(-0.951566,0,-5.975193,0,1),
    Vertex(0.807156,0,-5.978011,1,1),
    Vertex(-0.61706,0,2.289943,0,0),
    Vertex(-2.451038,0,3.9962,0,1),
    Vertex(-0.544895,0,4.073041,1,1),
    Vertex(-2.403585,0,5.820865,0,0),
    Vertex(-0.335794,3.44545,10.635016,0,1),
    Vertex(-0.470457,0,5.912287,1,1),
    Vertex(-0.544895,0,4.073041,0,0),
    Vertex(-2.403585,0,5.820865,0,1),
    Vertex(-0.470457,0,5.912287,1,1),
    Vertex(-2.710289,0,-5.972375,0,0),
    Vertex(-0.833557,0,-3.059351,0,1),
    Vertex(-0.951566,0,-5.975193,1,1),
    Vertex(-4.469011,0,-5.969557,0,0),
    Vertex(-2.635058,2.062928,-3.079649,0,1),
    Vertex(-2.710289,0,-5.972375,1,1),
    Vertex(-4.357182,0,3.919359,0,0),
    Vertex(-2.403585,0,5.820865,0,1),
    Vertex(-2.451038,0,3.9962,1,1),
    Vertex(-4.336713,2.657385,5.729443,0,0),
    Vertex(-2.321033,3.621684,10.635016,0,1),
    Vertex(-2.403585,0,5.820865,1,1),
    Vertex(-2.497044,0,2.227238,0,0),
    Vertex(-4.357182,0,3.919359,0,1),
    Vertex(-2.451038,0,3.9962,1,1),
    Vertex(-2.589053,0,-1.310687,0,0),
    Vertex(-4.396872,0,0.409706,0,1),
    Vertex(-2.543049,0,0.458275,1,1),
    Vertex(-1.312268,4.00488,-10.635016,0,0),
    Vertex(-2.710289,0,-5.972375,0,1),
    Vertex(-0.951566,0,-5.975193,1,1),
    Vertex(1.958667,4.00488,-10.635016,0,0),
    Vertex(0.807156,0,-5.978011,0,1),
    Vertex(2.565879,0,-5.980828,1,1),
    Vertex(1.066271,0,-1.241819,0,0),
    Vertex(-0.689226,0,0.506845,0,1),
    Vertex(1.164597,0,0.555415,1,1),
    Vertex(-0.61706,0,2.289943,0,0),
    Vertex(1.361249,0,4.149882,0,1),
    Vertex(1.262923,2.306973,2.352648,1,1),
    Vertex(-0.470457,0,5.912287,0,0),
    Vertex(1.649445,3.269217,10.635016,0,1),
    Vertex(1.462671,0,6.003709,1,1),
    Vertex(1.361249,0,4.149882,0,0),
    Vertex(-0.470457,0,5.912287,0,1),
    Vertex(1.462671,0,6.003709,1,1),
    Vertex(0.807156,0,-5.978011,0,0),
    Vertex(-0.833557,0,-3.059351,0,1),
    Vertex(0.967945,0,-3.039053,1,1),
    Vertex(1.164597,0,0.555415,0,0),
    Vertex(-0.61706,0,2.289943,0,1),
    Vertex(1.262923,2.306973,2.352648,1,1),
    Vertex(-2.543049,0,0.458275,0,0),
    Vertex(-4.377027,0,2.164532,0,1),
    Vertex(-2.497044,0,2.227238,1,1),
    Vertex(-0.689226,0,0.506845,0,0),
    Vertex(-2.497044,0,2.227238,0,1),
    Vertex(-0.61706,0,2.289943,1,1),
    Vertex(5.813202,0,4.32935,0,0),
    Vertex(10.635016,4.00488,2.64945,0,1),
    Vertex(5.653776,0,2.499101,1,1),
    Vertex(-4.396872,0,0.409706,0,0),
    Vertex(-6.537053,0,2.092487,0,1),
    Vertex(-4.377027,0,2.164532,1,1),
    Vertex(5.49435,0,0.668852,0,0),
    Vertex(3.142906,0,2.415354,0,1),
    Vertex(5.653776,0,2.499101,1,1),
    Vertex(-10.635016,4.00488,0.491153,0,0),
    Vertex(-6.537053,0,2.092487,0,1),
    Vertex(-6.526839,0,0.353901,1,1),
    Vertex(1.164597,0,0.555415,0,0),
    Vertex(3.142906,0,2.415354,0,1),
    Vertex(3.01842,0,0.603984,1,1),
    Vertex(0.967945,0,-3.039053,0,0),
    Vertex(-0.761391,0,-1.276253,0,1),
    Vertex(1.066271,0,-1.241819,1,1),
    Vertex(-2.635058,2.062928,-3.079649,0,0),
    Vertex(-4.416716,3.025761,-1.345121,0,1),
    Vertex(-2.589053,0,-1.310687,1,1),
    Vertex(-0.833557,0,-3.059351,0,0),
    Vertex(-2.589053,0,-1.310687,0,1),
    Vertex(-0.761391,0,-1.276253,1,1),
    Vertex(0.967945,0,-3.039053,0,0),
    Vertex(2.893934,0,-1.207386,0,1),
    Vertex(2.769447,2.712023,-3.018755,1,1),
    Vertex(-10.635016,4.00488,-2.98361,0,0),
    Vertex(-6.516626,0,-1.384684,0,1),
    Vertex(-6.506414,0,-3.123269,1,1),
    Vertex(5.175499,0,-2.991646,0,0),
    Vertex(2.893934,0,-1.207386,0,1),
    Vertex(5.334925,0,-1.161397,1,1),
    Vertex(-6.506414,0,-3.123269,0,0),
    Vertex(-4.416716,3.025761,-1.345121,0,1),
    Vertex(-4.43656,3.046722,-3.099948,1,1),
    Vertex(5.49435,0,0.668852,0,0),
    Vertex(10.635016,4.00488,-1.079874,0,1),
    Vertex(5.334925,0,-1.161397,1,1)
};